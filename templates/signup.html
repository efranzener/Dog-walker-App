
{% extends 'base.html' %}

{% block title %}Create an Account{% endblock title%}
{% block header %}

{%endblock header%}
{% block body %}

   
    <div class="container-homepage">
      <nav class="navbar justify-content-start">
        <ul class="nav justify-content-start">
          <li class="nav-item">
            <a class="nav-link" aria-current="page" role="button"  onclick="history.back()">Previous </a>          
          </li>
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="/">Homepage</a>
          </li>
        </ul>
      </nav>
    </div>  
    <div class = "card-container">
        <div class="container">
            <div class="form-control mr-sm-2">
                <h4 id="sign-up">Sign Up</h4>
                <form action="/signup" method = "POST" enctype = "multipart/form-data">
                    <div class="form-group">
                        <label for="fname" class="form-label">First Name</label>
                        <input type="text" name="fname" id="fname" required>
                    </div>
                    <div class="form-group">
                        <label for="lname" class="form-label">Last Name</label>
                        <input type="text" name="lname" id="lname" required>
                        <span class="validity"></span>
                    </div>
                    <div class="form-group">
                        <label for="dob" class="form-label">Date of birth</label>
                        <input type="date" name="dob" id="dob" required>
                    </div>
                    <div class="form-group">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" name="email" id="email" required>
                        <span class="validity"></span>
                    </div>
                    <div class="form-group">
                        <label for="password" class="form-label">Password</label>
                        <p><small class="requirement">  8-20 characters: at least 1 upper and lower case & a number</small></p>
                        <input required minlength="8" maxlength="20" type="password" name="password" id="password" pattern="(?=.*\d)(?=.*[A-Z])(?=.*[a-z]).{9,20}">
                        <input type="checkbox" onclick="myFunction()"> Show Password
                    </div>
                    <div class="form-group">
                        <label for="mobile" class="form-label">Mobile</label>
                        <input type="tel" minlength="10" maxlength="15" name="mobile" id="mobile" pattern="(?=.*\d).{10,15}" placeholder="Only numbers"required>
                        <span class="validity"></span>
                    </div>
                    <div class="form-group">
                        <label for="address" class="form-label">Address</label>
                        <input type="text"  name="address" id="address" placeholder="1234 Main St, number" required>
                    </div>
                    <div class="form-group">
                        <label for="city" class="form-label">City</label>
                        <input type="text" name="city" id="city" required>
                    </div>
                    <div class="form-group">
                        <label for="city" class="form-label">State</label>
                        <select id="state" name="state" required>
                            <option  selected disabled value="">Select</option>
                            {% for state in states %}
                                <option id="selected_state" name="state_selected" value="{{state}}" >{{state}}</option>
                            {% endfor %}
                        </select>  
                    </div>
                    <div class="form-group">
                        <label for="zip_code" class="form-labe2">Zip Code</label>
                        <input type="numeric" minlength="5" maxlength="5" name="zip_code" id="zip_code" required>
                        <span class="validity"></span>
                    </div>         
                    <div class="form-group">
                        <img id="prof-pic">
                        <label for="profilepic">Profile Picture</label>
                        <input id="profilepic" type="file" name="profilepic" accept="image/png, image/jpeg" required>
                    </div>                                          
                        <button type="submit" class="rounded-pill">Sign up</button>
                </form>
            </div>
        </div>
    </div>
    <script>
        function myFunction() {
            var showPassword = document.getElementById("password");
            if (showPassword.type === "password") {
            showPassword.type = "text";
            } else {
            showPassword.type = "password";
            }
        }

        document.getElementById("profilepic").onchange = function () {
            var src = URL.createObjectURL(this.files[0]);
            document.getElementById("prof-pic").src = src;
        }
    </script>
{% endblock body %}