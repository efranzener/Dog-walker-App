
{% extends 'base.html' %}

{% block title %}Create an Account{% endblock title%}
{% block header %}

<div>
  <img id="top-img" src="static/profile_pic1.jpg">
<div>

{%endblock header%}
{% block body %}

<div>
   
    <div class="container-fluid">
      <nav class="navbar justify-content-start">
        <ul class="nav justify-content-start">
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="#">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" aria-current="page" role="button"  onclick="history.back()">Previous </a>          
          </li>
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="/">Homepage</a>
          </li>
        </ul>
      </nav>
    </div>  

    <div class="container">
            <div class="form-control mr-sm-2">
                <h4 id="sign-up">Sign Up</h4>
                <form action="/signup" method = "POST" enctype = "multipart/form-data">
                    <div class="form-group">
                        <label for="fname">First Name</label>
                        <input type="text" name="fname" id="fname" required>
                    </div>
                    <div class="form-group">
                        <label for="lname">Last Name</label>
                        <input type="text" name="lname" id="lname" required>
                        <span class="validity"></span>
                    </div>
                    <div class="form-group">
                        <label for="dob" >Date of birth</label>
                        <input type="date" name="dob" id="dob" required>
                    </div>
                    <div class="form-group">
                        <label for="email" >Email</label>
                        <input type="email" name="email" id="email" required>
                        <span class="validity"></span>
                    </div>
                    <div class="form-group">
                        <label for="password" class="form-label">Password</label>
                        <input required minlength="8" maxlength="20" type="password" name="password" id="password" pattern="(?=.*\d)(?=.*[A-Z])(?=.*[a-z]).{9,20}">
                        <span class="validity"></span>
                        <p class="requirement">8-20 characters: at least 1 upper and lower case & a number</p>
                    </div>
                    <div class="form-group">
                        <label for="mobile" class="form-label">Mobile</label>
                        <input type="tel" minlength="10" maxlength="15" name="mobile" id="mobile" pattern="(?=.*\d).{10,15}" placeholder="Only numbers"required>
                        <span class="validity"></span>
                    </div>
                    <div class="form-group">
                        <label for="address" >Address</label>
                        <input type="text"  name="address" id="address" placeholder="1234 Main St, number" required>
                    </div>
                    <div class="form-group">
                        <label for="city">City</label>
                        <input type="text" name="city" id="city" required>
                    </div>
                    <div class="form-group">
                        <label for="city">State</label>
                        <select id="state" name="state">
                            <option selected>Select</option>
                            {% for state in states %}
                                <option name = "state_selected" value="{{state}}" required>{{state}}</option>
                            {% endfor %}
                        </select>  
                    </div>
                    <div class="form-group">
                        <label for="zip_code" class="form-labe2">Zip Code</label>
                        <input type="numeric" minlength="5" maxlength="5" name="zip_code" id="zip_code" required>
                        <span class="validity"></span>
                    </div>         
                    <div class="form-group">
                        <img id="prof-pic">
                        <label class="signup-pic" for="profilepic">Profile Picture</label>
                        <input id="profilepic" type="file" name="profilepic" accept="image/png, image/jpeg" required>
                    </div>                                          
                        <button type="submit" class="rounded-pill">Sign up</button>
                </form>
            </div>
    </div>
    <script>
        document.getElementById('profilepic').onchange = function () {
            var src = URL.createObjectURL(this.files[0]);
            document.getElementById('prof-pic').src = src;
        }
    </script>
{% endblock body %}